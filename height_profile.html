<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Höhenprofil</title>
    <script src="https://unpkg.com/leaflet@latest/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/track_egge_2.js"></script>
    <script src="js/height_profile_script.js"></script>
</head>
<body>
    <!-- Body-Inhalt -->
    <canvas id="heightProfile" width="800" height="400"></canvas>
    <script>
        window.onload = function() {
            var canvas = document.getElementById("heightProfile");
            if (canvas) {
                // Lade die Koordinaten und rufe dann die Funktion zur Erstellung des Höhenprofils auf
                var coordinates = loadCoordinates();
                var cumulativeDistances = calculateCumulativeDistances(coordinates);
                createHeightProfile(coordinates, cumulativeDistances, canvas);
            } else {
                console.error("Canvas element not found.");
            }
        };

        // Funktion zum Aktualisieren der Markerposition
        function updateMarker(lat, lng) {
            if (currentMarker) {
                currentMarker.setLatLng([lat, lng]);
                currentMarker.setOpacity(1); // Sichtbar machen
                map.panTo([lat, lng]);
            } else {
                console.error("Marker is not defined.");
            }
        };
    </script>
</body>
</html>
